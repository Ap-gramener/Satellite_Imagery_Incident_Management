<!doctype html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Satellite Imagery Incident Management</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet"
        crossorigin="anonymous" />
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.0/font/bootstrap-icons.css" rel="stylesheet"
        crossorigin="anonymous" />
</head>

<body class="bg-light">
    <div class="container my-4">
        <h2 class="text-center mb-4">
            <i class="bi bi-satellite"></i> Satellite Imagery Incident Management
        </h2>

        <div class="mb-4">
            <select id="sampleIncidents" class="form-select">
                <option value="">Select Sample Incident...</option>
                <option value="incident1">Incident 1</option>
                <option value="incident2">Incident 2</option>
                <option value="incident3">Incident 3</option>
                <option value="incident4">Incident 4</option>
                <option value="incident5">Incident 5</option>
                <option value="incident6">Incident 6</option>
                <option value="incident7">Incident 7</option>
                <option value="incident8">Incident 8</option>
                <option value="incident9">Incident 9</option>
                <option value="incident10">Incident 10</option>
                <option value="incident11">Incident 11</option>
                <option value="incident12">Incident 12</option>
                <option value="incident13">Incident 13</option>
                <option value="incident14">Incident 14</option>
                <option value="incident15">Incident 15</option>
                <option value="incident16">Incident 16</option>
                <option value="incident17">Incident 17</option>
                <option value="incident18">Incident 18</option>
                <option value="incident19">Incident 19</option>
                <option value="incident20">Incident 20</option>
                <option value="incident21">Incident 21</option>
                <option value="incident22">Incident 22</option>
                <option value="incident23">Incident 23</option>
                <option value="incident24">Incident 24</option>
                <option value="incident25">Incident 25</option>
            </select>
        </div>

        <form id="incidentForm" class="needs-validation" novalidate="">
            <!-- Telemetry Logs -->
            <div class="card mb-4">
                <div class="card-header">
                    <h5><i class="bi bi-clipboard-data"></i> Telemetry Logs</h5>
                </div>
                <div class="card-body">
                    <div class="row g-3">
                        <div class="col-md-6">
                            <label class="form-label">Sensor ID</label>
                            <input type="text" class="form-control" name="sensorId" pattern="^Sensor_\d+$"
                                required="" />
                            <div class="invalid-feedback">Must be in format Sensor_XX</div>
                        </div>
                        <div class="col-md-6">
                            <label class="form-label">Timestamp (UTC)</label>
                            <input type="datetime-local" class="form-control" name="timestamp" required="" />
                        </div>
                        <div class="col-md-6">
                            <label class="form-label">Status</label>
                            <select class="form-select" name="status" required="">
                                <option value="">Select status...</option>
                                <option>Data Transmission Restored</option>
                                <option>Partial Data Loss</option>
                                <option>Full Data Loss</option>
                                <option>Normal Operation</option>
                            </select>
                        </div>
                        <div class="col-md-6">
                            <label class="form-label">Error Code</label>
                            <input type="text" class="form-control" name="errorCode" pattern="^ERR-\d{3}$" />
                            <div class="invalid-feedback">Must be in format ERR-XXX</div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- CNN Output -->
            <div class="card mb-4">
                <div class="card-header">
                    <h5><i class="bi bi-camera"></i> CNN Output</h5>
                </div>
                <div class="card-body">
                    <div class="row g-3">
                        <div class="col-md-4">
                            <label class="form-label">Detected Issue</label>
                            <select class="form-select" name="detectedIssue" required="">
                                <option value="">Select issue...</option>
                                <option>Corrupted Pixels</option>
                                <option>Missing Data</option>
                                <option>No Anomalies Detected</option>
                            </select>
                        </div>
                        <div class="col-md-4">
                            <label class="form-label">Confidence Score (%)</label>
                            <input type="number" class="form-control" name="confidenceScore" min="0" max="100"
                                required="" />
                        </div>
                        <div class="col-md-2">
                            <label class="form-label">Latitude</label>
                            <input type="number" class="form-control" name="latitude" step="0.0001" min="-90" max="90"
                                required="" />
                        </div>
                        <div class="col-md-2">
                            <label class="form-label">Longitude</label>
                            <input type="number" class="form-control" name="longitude" step="0.0001" min="-180"
                                max="180" required="" />
                        </div>
                    </div>
                </div>
            </div>

            <!-- LSTM Output -->
            <div class="card mb-4">
                <div class="card-header">
                    <h5><i class="bi bi-graph-up"></i> LSTM Output</h5>
                </div>
                <div class="card-body">
                    <div class="row g-3">
                        <div class="col-md-4">
                            <label class="form-label">Trend</label>
                            <input type="text" class="form-control" name="trend" required="" />
                        </div>
                        <div class="col-md-4">
                            <label class="form-label">Predicted Cause</label>
                            <select class="form-select" name="predictedCause" required="">
                                <option value="">Select cause...</option>
                                <option>Intermittent Transmission Error</option>
                                <option>Sensor Malfunction</option>
                                <option>Ground Station Connectivity Issue</option>
                                <option>Resolved Connectivity Issue</option>
                            </select>
                        </div>
                        <div class="col-md-4">
                            <label class="form-label">Likelihood</label>
                            <select class="form-select" name="likelihood" required="">
                                <option value="">Select likelihood...</option>
                                <option>High</option>
                                <option>Medium</option>
                                <option>Low</option>
                            </select>
                        </div>
                    </div>
                </div>
            </div>

            <!-- RF Output -->
            <div class="card mb-4">
                <div class="card-header">
                    <h5><i class="bi bi-activity"></i> RF Output</h5>
                </div>
                <div class="card-body">
                    <div class="row g-3">
                        <div class="col-md-4">
                            <label class="form-label">Incident Type</label>
                            <select class="form-select" name="incidentType" required="">
                                <option value="">Select type...</option>
                                <option>Data Transmission Error</option>
                                <option>Sensor Malfunction</option>
                                <option>Ground Station Connectivity Issue</option>
                                <option>Resolved - Data Transmission Error</option>
                            </select>
                        </div>
                        <div class="col-md-4">
                            <label class="form-label">Priority</label>
                            <select class="form-select" name="priority" required="">
                                <option value="">Select priority...</option>
                                <option>High</option>
                                <option>Medium</option>
                                <option>Low</option>
                            </select>
                        </div>
                        <div class="col-md-4">
                            <label class="form-label">Recommended Action</label>
                            <input type="text" class="form-control" name="recommendedAction" required="" />
                        </div>
                    </div>
                </div>
            </div>

            <div class="text-center">
                <button type="submit" class="btn btn-primary btn-lg">
                    <i class="bi bi-envelope"></i> Generate Alert Email
                </button>
            </div>
        </form>

        <!-- Email Display -->
        <div id="emailDisplay" class="card mt-4 d-none">
            <div class="card-header">
                <h5><i class="bi bi-envelope"></i> Generated Alert Email</h5>
            </div>
            <div class="card-body">
                <div id="emailContent" class="bg-light p-3 rounded"></div>
                <button id="responseBtn" class="btn btn-success">
                    <i class="bi bi-reply"></i> Send Response
                </button>
            </div>
        </div>

        <!-- Response Modal -->
        <div class="modal fade" id="responseModal" tabindex="-1">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 class="modal-title">Response Email</h5>
                        <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                    </div>
                    <div class="modal-body">
                        <textarea id="responseText" class="form-control" rows="6" required=""></textarea>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                        <button id="sendResponseBtn" type="button" class="btn btn-primary">
                            Send Response
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Status Display
        <div id="statusDisplay" class="card mt-4 d-none">
            <div class="card-header">
                <h5><i class="bi bi-check-circle"></i> Updated Status</h5>
            </div>
            <div class="card-body">
                <pre id="statusContent" class="bg-light p-3 rounded"></pre>
            </div>
        </div> -->

        <!-- Final Email -->
        <div id="finalEmailDisplay" class="card mt-4 d-none">
            <div class="card-header">
                <h5><i class="bi bi-envelope-check"></i> Final Confirmation Email</h5>
            </div>
            <div class="card-body">
                <div id="finalEmailContent" class="bg-light p-3 rounded"></div>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"
        crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
    <script type="module" src="script.js"></script>
</body>

</html>